/* http://zzsvn.pcauto.com.cn/svn/doc/javascript/jquery.accordion/jquery.accordion.js */
(function(b,c){var a=function(d){this.config=c.extend({},a.config,d);this.init()};a.config={target:null,items:[],curClass:"current",type:"hover",duration:1000,delay:150,orientation:"horizontal",reversed:false,maxSize:"",boxSize:"",autoPlay:false,interval:2000,defaultTo:0,autoFold:false,effect:"linear",oninit:function(){},onchange:function(d){}};a.prototype={init:function(){var s=this,h=s.config,r=h.items,m=h.reversed;var n=h.orientation=="horizontal"?"width":"height";h.target.css(n,h.boxSize).css("overflow","hidden");var p=s.length=r.length;h.minSize=(h.boxSize-h.maxSize)/(p-1);var q=h.normalSize=h.boxSize/p;var g={horizontal:["left","right"],vertical:["top","bottom"]};var j=h.dir=g[h.orientation][m?1:0],k=g[h.orientation][m?0:1];var d,o,f={};for(var l=0;l<p;l++){d=m?p-l:l+1;o=m?q*(p-l-1):q*l;f.zIndex=d;f[j]=o+"px";f[k]="auto";r.eq(l).css(f)}s.current=-1;h.oninit&&h.oninit.call(s);s.bind();var e=h.defaultTo==-1?0:h.defaultTo;if(h.autoPlay){s.playTo(e);s.play()}else{if(h.defaultTo!=-1){s.playTo(e)}}},bind:function(){var e=this,f=e.config,g=f.target,d=f.items;d.each(function(i,j){var h=c(j);h.bind("mouseenter",function(){if(e.autoTimer){e.pause()}});if(f.type=="hover"){h.bind("mouseenter",function(){if(e.delayTimer){clearTimeout(e.delayTimer)}e.delayTimer=setTimeout(function(){e.playTo(i)},f.delay)})}else{h.bind("click",function(){e.playTo(i)})}});g.bind("mouseleave",function(h){if(e.delayTimer){clearTimeout(e.delayTimer)}if(f.autoPlay){e.play();return}if(f.autoFold){e.foldAll()}})},playTo:function(h){var m=this,i=m.length,e=m.config,f=e.dir,j=e.items,d=e.minSize,l=e.maxSize,g=e.reversed,k=e.curClass;if(h<0||h>=i){return}m.current=h;j.each(function(p,q){var n,r={},o=c(q);if(g){n=p>=h?(i-p-1)*d:(i-p-2)*d+l}else{n=p<=h?p*d:(p-1)*d+l}r[f]=n;if(h==p){o.addClass(k)}else{o.removeClass(k)}if(parseFloat(o.css(f),10)!=n){o.stop(true).animate(r,e.duration,e.effect)}});e.onchange&&e.onchange.call(m,j[h])},play:function(){var d=this;d.config.autoPlay=true;if(d.autoTimer){clearInterval(d.autoTimer)}d.autoTimer=setInterval(function(){d.playTo((d.current+1+d.length)%d.length);d.play()},d.config.interval+d.config.duration)},pause:function(){var d=this;if(d.autoTimer){clearInterval(d.autoTimer);d.autoTimer=null}},stop:function(){this.config.autoPlay=false;this.pause()},restart:function(){this.config.autoPlay=true;this.play()},foldAll:function(){var f=this,d=f.length,h=f.dir,g=f.config,e=g.items,i=g.normalSize,j=g.reversed;f.current=-1;e.each(function(m,n){var o={},k,l=c(n);k=j?i*(d-m-1):i*m;o[h]=k;l.stop(true).animate(o,g.duration,g.effect)})}};a.raiseText=function(e){var d=c.extend({duration:900,delay:0,onchange:function(){var f=this,g=f.config,i=f.current,h=g.duration;g.texts.each(function(l,k){var j=c(k);j.stop(true);if(l==i){j.animate({bottom:g.showedBottom},h)}else{if(parseFloat(j.css("bottom"),10)!=g.hiddenBottom){j.animate({bottom:g.hiddenBottom},h)}}})}},e);return new a(d)};a.raiseText.prototype=a.prototype;b.Accordion=a}(this,jQuery));